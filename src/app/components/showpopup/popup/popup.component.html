
<form #userForm="ngForm" style="width:100%;" fxLayout="column">
 <div style="width:100%;">
  <div fxFlex="95">
    <label style="color:black; font-family: sans-serif; font-weight:normal;font-size:18px; ">{{button}} Category</label>
  </div>
  <div fxFlex="5">
    <mat-icon (click)="closeDialog()" style="color:gray">close</mat-icon>
  </div>
 </div>
 <mat-divider style="width:100%;margin-top:15px"></mat-divider>

 <div *ngIf="is_update_flow==0" fxLayout="row" fxLayoutAlign="center center">
  <mat-form-field style="width:100%;margin-top:10px" >
    <mat-label>Select Type Of Category To Add</mat-label>
      <mat-select 
      name="typeAdd" 
      (selectionChange)="selectCategoryToAdd(categoryIdN)"
      class="filter-select" 
      [(value)]="categoryIdN">
        <mat-option *ngFor="let item of checkCategoryType" [value]="item.id">
          {{item.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>
</div>

  <div fxLayout="row" fxLayoutAlign="center center" style="margin-top:15px">
    <mat-form-field fxFlex="100">
      <mat-label>Category Name</mat-label>
      <input *ngIf="is_update_flow==0 && is_parent_category_to_add ==-1" matInput [(ngModel)]="popup.categoryName"
        [formControl]="formControl.categoryName" readonly/>

      <input *ngIf=" is_update_flow!=0 || is_parent_category_to_add !=-1" matInput [(ngModel)]="popup.categoryName"
        [formControl]="formControl.categoryName" />
        
      <mat-error *ngIf="formControl.categoryName.invalid">Category Name is required</mat-error>

      <!-- <mat-error *ngIf="formControl.username.invalid">Username/Email/Mobile is required</mat-error> -->
    </mat-form-field>
  
  </div>

  <div  *ngIf="  is_parent_category_to_add != 1" fxLayout="row" fxLayoutAlign="center center">
    <mat-form-field style="width:100%;margin-top:10px" >
      <mat-label>Select Parent Category</mat-label>
        <mat-select 
        name="type" 
        (selectionChange)="selectCategory(categoryId)"
        class="filter-select" 
        [(value)]="categoryId">
          <mat-option *ngFor="let item of dataArray" [value]="item.id">
            {{item.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>
  </div>

  <label style="margin-top:5px">Upload Image</label>
  <div fxLayout="column" fxLayoutAlign="center center"  onclick="document.getElementById('image_upload1').click()" style="height:170px;width:100%; border : 1px solid #ced3da; margin-top:20px;position:relative">
      
    <mat-icon fxLayoutAlign="center center" *ngIf="firstImage == '' " style="font-size:60px; margin-top:20px;color:rgb(196, 184, 184)">camera_alt
    </mat-icon>
    <img *ngIf="firstImage != '' " src="{{firstImage}}"
    style="width:60%; height:60%;" />
      <input style="display: none;" id="image_upload1" type="file" (change)="detectEventGallery($event)">

  <div *ngIf="firstImage == '' " style="margin-top:12px;color: black;width:100%;margin-bottom:15px" 
    fxLayoutAlign="center">
    <label type="file" style="margin-top:15px; color:gray">Upload Category Image</label>
  </div>

  <div style="position: absolute; top:3px;right:5px;">
    <mat-icon (click)="removeImage()" style="color:gray">close</mat-icon>
  </div>
  </div>

  <div fxLayout="row" fxLayoutAlign="space-around" style="margin-top:25px;" fxFlex="100">
    <!-- <button color="primary" mat-raised-button (click)="submit()" class="button-content" style="font-size:13px" [disabled]="formControl.categoryName.invalid">{{buttonText}}</button> -->
    <div fxFlex="49"  fxLayoutAlign="end center">
      <button mat-raised-button (click)="closeDialog()" class="button-cancel" style="font-size:13px; width:70%"
      >CANCEL</button>
    </div>
    <div fxFlex="3"></div>
    <div fxFlex="48" fxLayoutAlign="start center">
      
    <button color="primary" mat-raised-button (click)="submit()" class="button-content" style="font-size:13px; width:70%"
    [disabled]="formControl.categoryName.invalid">SUBMIT</button>
    </div>
   

  </div>
  </form>

  <!-- <div fxLayout="row" fxLayourtAlign="space-around" fxFlex="100" style="margin-top:10px;">
    <div fxFlex="49">
      <button mat-raised-button (click)="closeDialog()" class="button-cancel" style="font-size:13px; width:100%"
      >CANCEL</button>
    </div>
    <div fxFlex="3"></div>
    <div fxFlex="48">
      
    <button color="primary" mat-raised-button (click)="submit()" class="button-content" style="font-size:13px; width:100%"
    [disabled]="formControl.count.invalid">SUBMIT</button>
    </div>
   
  </div> -->
 


